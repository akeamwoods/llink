import{u as f,a as m,r as v,j as s}from"./index-1wh4aqU5.js";import{u,b as x,c as P,g as b,C as h}from"./generateSlug-iLHzOjSE.js";const j=e=>u(["post",e],()=>x(e),{enabled:!!e}),L=(e,t)=>u(["user",e],()=>P(e),{...t,enabled:!!e&&(t==null?void 0:t.enabled)}),U=()=>{var d;const{postId:e,slug:t}=f(),i=m(),{data:r,isLoading:o,error:c}=j(e),n=(d=r==null?void 0:r.userId)==null?void 0:d.toString(),{data:a,isLoading:l,error:g}=L(n,{enabled:!!n});return v.useEffect(()=>{r&&!o&&!t&&i(`/post/${e}/${b(r.title)}`,{replace:!0})},[r,o,e,t,i]),o||l?s.jsx("div",{children:"Loading..."}):c||g?s.jsx("div",{children:"Error loading post or user data"}):r?s.jsx(h,{author:`${a==null?void 0:a.firstName} ${a==null?void 0:a.lastName}`,avatar:(a==null?void 0:a.image)??"avatar.svg",title:r.title,description:r.body}):s.jsx("div",{children:"Post not found"})};export{U as default};
